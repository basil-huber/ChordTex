% Guitar chords
% Author: Christoph
% Source: http://rio.eta-ori.net/latex-chords/chords.sty
%         http://rio.eta-ori.net/latex-chords/example.tex
\documentclass{article}
\usepackage{subfig}
\usepackage{tikz}
\usepackage{ifthen} 
%% Code from chords.sty
% Counters
\newcounter{chords-string}
\newcounter{chords-fret}

% Variables
\newcommand{\chordreset}{
  \def\chordtuning{E,A,D,G,B,E}
  \def\chordfretstart{1}
  \def\chordfretend{4}
}
\chordreset

% The chord environmant
% \begin{chord}
% \begin{chord}[D,G,D,G,H,E]
\newenvironment{chord}
{
  % A single note
  % \single <string> <fret> <finger>
  \newcommand{\single}[3]{
    \draw node[single] at (##2,##1) {##3};%%
  }
  % A bar
  % \bar <startstring> <fret> <finger>
  \renewcommand{\bar}[3]{
    \draw[bar] (##2,##1) -- node[midway] {##3} (##2,6);%%
  }
  % No strike
  % \nostrike <string>
  \newcommand{\nostrike}[1]{
    \draw[nostrike] (\chordfretstart-.5,##1) +(-135:.2cm) -- +(45:.2cm);
    \draw[nostrike] (\chordfretstart-.5,##1) +(135:.2cm) -- +(-45:.2cm);
  }
  
  \begin{tikzpicture}[
    single/.style={draw,circle,fill=black,text = white},
    bar/.style={draw, line width =18pt, cap = round, text = white},
    nostrike/.style={line width=.8mm},
    cm={0,-1,0.8,0,(0,0)}
  ]
  
  \setcounter{chords-string}{01}
%Label strings
  \foreach \tuning in \chordtuning
  {
    \node at (\chordfretstart-1,\value{chords-string}) {\tuning};
    \addtocounter{chords-string}{+1}
  }
  
%Draw grid
  \draw[xshift=-0.5cm] (\chordfretstart,1) grid (\chordfretend+1,6);
  \ifnum \chordfretstart = 1
  	{\draw[line width = 3pt] (0.5,1) -- (0.5,6);}
  \fi
  
%Label fret numbers
  \foreach \fret in {\chordfretstart,...,\chordfretend}
  {
    \setcounter{chords-fret}\fret
    \draw node at (\fret,0) {\Roman{chords-fret}};
  }
}
{
  \end{tikzpicture}
}

%% End of chords.sty file

\begin{document}

\begin{figure}
\subfloat[F major]{
\begin{chord}
  \bar 3 1 1    % bar from 6th string down with index finger on 1st fret
  \single 5 2 2 % ringfinger on 5th string 3rd fret
  \single 3 3 3 % pinky on 4th string 3rd fret
  \single 4 3 4 % middle finger on 3rd string 2nd fret
\end{chord}
\chordreset}
%
\subfloat[G major]{
\def\chordfretstart{4} % start diagram at 5th fret
\def\chordfretend{5}   % end diagram at 8th fret
\begin{chord}
  %\bar 2 5 1
  \single 2 4 2
  \single 1 5 3
  \single 6 5 4
  %\nostrike 1 % do not strike 6th string
\end{chord}
\chordreset}
\end{figure}

\end{document}